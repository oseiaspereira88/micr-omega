.backdrop {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  padding-inline: 20px;
  padding-block-start: max(32px, env(safe-area-inset-top));
  padding-block-end: max(32px, env(safe-area-inset-bottom));
  background: rgba(6, 4, 18, 0.7);
  backdrop-filter: blur(18px);
  z-index: 1000;
}

.container {
  width: min(720px, 100%);
  max-height: calc(var(--app-viewport-height, 100vh) - 64px);
  background: linear-gradient(135deg, #1a0a0a 0%, #2a0515 50%, #0a0a1a 100%);
  display: flex;
  flex-direction: column;
  align-items: stretch;
  font-family: var(--font-sans, system-ui);
  color: #fff;
  padding-inline: min(48px, 6vw);
  padding-block-start: clamp(32px, 6vw, 64px);
  padding-block-end: clamp(40px, 7vw, 72px);
  gap: 32px;
  text-align: center;
  border-radius: 32px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.55);
  position: relative;
}

.title {
  font-family: var(--font-display, inherit);
  font-size: clamp(2.8rem, 6vw, 3.5rem);
  margin: 0;
  color: #ff4d94;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-weight: 600;
}

.summaryCard {
  align-self: center;
  width: min(100%, 520px);
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(20px);
  padding: 40px 44px;
  border-radius: 25px;
  border: 2px solid rgba(255, 255, 255, 0.1);
  text-align: left;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.45);
  display: flex;
  flex-direction: column;
  gap: 28px;
}

.summaryHeader {
  display: flex;
  flex-direction: column;
  gap: 8px;
  text-align: center;
}

.summaryLabel {
  font-family: var(--font-display, inherit);
  font-size: 1.2rem;
  margin: 0;
  opacity: 0.85;
  letter-spacing: 0.1em;
  text-transform: uppercase;
}

.summaryScore {
  font-family: var(--font-display, inherit);
  font-size: clamp(2.8rem, 6vw, 3.75rem);
  font-weight: 600;
  color: #7b2fff;
  margin: 0;
  letter-spacing: 0.06em;
}

.statsList {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.journeySection {
  align-self: center;
  width: min(100%, 520px);
  background: rgba(10, 8, 26, 0.55);
  border-radius: 24px;
  border: 1px solid rgba(255, 255, 255, 0.08);
  padding: 32px 36px;
  display: flex;
  flex-direction: column;
  gap: 24px;
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
}

.journeyHeader {
  display: flex;
  flex-direction: column;
  gap: 8px;
  text-align: left;
}

.journeyTitle {
  font-family: var(--font-display, inherit);
  font-size: 1.6rem;
  margin: 0;
  color: #ffba4d;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-weight: 500;
}

.journeySubtitle {
  margin: 0;
  font-size: 1rem;
  color: rgba(255, 255, 255, 0.75);
  font-family: var(--font-sans, system-ui);
}

.journeyGrid {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 18px;
}

.journeyItem {
  background: rgba(22, 12, 44, 0.7);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 20px;
  padding: 18px 20px 20px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  min-height: 140px;
}

.journeyLabel {
  margin: 0;
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 0.95rem;
  font-family: var(--font-display, inherit);
  font-weight: 500;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.8);
}

.journeyIcon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 12px;
  font-size: 1.4rem;
  background: rgba(255, 186, 77, 0.18);
  box-shadow: 0 10px 25px rgba(255, 186, 77, 0.25);
}

.journeyValue {
  margin: 0;
  font-size: 1.55rem;
  font-family: var(--font-display, inherit);
  font-weight: 600;
  color: #ffffff;
  letter-spacing: 0.04em;
}

.journeyDetail {
  margin: 0;
  font-size: 0.95rem;
  color: rgba(255, 255, 255, 0.7);
  font-family: var(--font-sans, system-ui);
}

.statCard {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 18px 20px;
  border-radius: 18px;
  background: rgba(12, 6, 28, 0.6);
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05);
  font-family: var(--font-sans, system-ui);
}

.statIcon {
  font-size: 1.8rem;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 48px;
  height: 48px;
  border-radius: 14px;
  background: rgba(123, 47, 255, 0.18);
  box-shadow: 0 8px 25px rgba(123, 47, 255, 0.22);
}

.statContent {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 4px;
}

.statLabel {
  font-size: 1rem;
  font-weight: 600;
  letter-spacing: 0.03em;
  text-transform: uppercase;
  opacity: 0.75;
}

.statValue {
  font-size: 1.4rem;
  font-weight: 700;
}

.actions {
  display: flex;
  flex-direction: column;
  gap: 18px;
  width: min(360px, 100%);
  align-self: center;
  position: sticky;
  bottom: max(32px, env(safe-area-inset-bottom));
  padding-block-end: env(safe-area-inset-bottom);
  margin-top: auto;
}

.actions > button {
  width: 100%;
}

.restartButton {
  background: linear-gradient(135deg, #00ff88, #00d9ff);
  border: none;
  padding: 20px 50px;
  border-radius: 50px;
  font-size: 1.4rem;
  font-weight: bold;
  color: #000;
  cursor: pointer;
  box-shadow: 0 0 40px rgba(0, 217, 255, 0.6);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.restartButton:focus-visible {
  outline: 3px solid rgba(255, 255, 255, 0.6);
  outline-offset: 4px;
}

.restartButton:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 45px rgba(0, 217, 255, 0.8);
}

.quitButton {
  background: rgba(255, 255, 255, 0.1);
  border: 2px solid rgba(255, 255, 255, 0.4);
  padding: 16px 42px;
  border-radius: 45px;
  font-size: 1.2rem;
  font-weight: 600;
  color: #fff;
  cursor: pointer;
  backdrop-filter: blur(6px);
  transition: background-color 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease,
    transform 0.2s ease;
}

.quitButton:hover,
.quitButton:focus-visible {
  background: rgba(255, 255, 255, 0.18);
  border-color: rgba(255, 255, 255, 0.7);
  box-shadow: 0 8px 30px rgba(255, 77, 148, 0.4);
  transform: translateY(-1px);
  outline: none;
}

.mobile {
  width: min(540px, 100%);
  padding-inline: clamp(20px, 5vw, 32px);
  padding-block-start: clamp(24px, 7vw, 40px);
  padding-block-end: clamp(28px, 8vw, 44px);
  border-radius: 24px;
  gap: 24px;
}

.mobile .title {
  font-size: clamp(2.4rem, 8vw, 2.8rem);
}

.mobile .summaryCard {
  width: 100%;
  padding: 28px clamp(18px, 7vw, 32px);
  border-radius: 20px;
  gap: 20px;
}

.mobile .summaryLabel {
  font-size: 1.1rem;
}

.mobile .summaryScore {
  font-size: clamp(2.5rem, 11vw, 3rem);
}

.mobile .statsList {
  gap: 14px;
}

.mobile .journeySection {
  width: 100%;
  padding: 24px clamp(16px, 6vw, 28px);
  gap: 18px;
}

.mobile .journeyTitle {
  font-size: 1.4rem;
}

.mobile .journeySubtitle {
  font-size: 0.9rem;
}

.mobile .journeyGrid {
  grid-template-columns: minmax(0, 1fr);
  gap: 14px;
}

.mobile .journeyItem {
  padding: 16px clamp(16px, 5vw, 24px);
  gap: 8px;
  min-height: auto;
}

.mobile .journeyLabel {
  font-size: 0.85rem;
}

.mobile .journeyValue {
  font-size: 1.3rem;
}

.mobile .journeyDetail {
  font-size: 0.85rem;
}

.mobile .statCard {
  padding: 16px 18px;
  border-radius: 16px;
}

.mobile .statIcon {
  width: 42px;
  height: 42px;
  font-size: 1.6rem;
  border-radius: 12px;
}

.mobile .statLabel {
  font-size: 0.9rem;
}

.mobile .statValue {
  font-size: 1.2rem;
}

.mobile .actions {
  gap: 14px;
  bottom: max(24px, env(safe-area-inset-bottom));
}

.mobile .restartButton {
  padding: 16px clamp(18px, 6vw, 28px);
  border-radius: 36px;
  font-size: 1.1rem;
}

.mobile .quitButton {
  padding: 14px clamp(18px, 6vw, 26px);
  border-radius: 32px;
  font-size: 1rem;
}

.compact {
  gap: 20px;
  padding-block-start: clamp(20px, 6vh, 32px);
  padding-block-end: clamp(24px, 6vh, 36px);
}

.compact .summaryCard {
  gap: 18px;
  padding: 24px clamp(16px, 6vw, 28px);
}

.compact .summaryScore {
  font-size: clamp(2.4rem, 9vw, 3rem);
}

.compact .journeySection {
  padding: 24px clamp(16px, 6vw, 28px);
  gap: 18px;
}

.compact .journeyGrid {
  gap: 16px;
}

.compact .journeyItem {
  min-height: auto;
  padding: 16px 18px;
}

.compact .journeyValue {
  font-size: 1.3rem;
}

.compact .journeyDetail {
  font-size: 0.85rem;
}

.compact .statCard {
  padding: 14px 16px;
}

.compact .statIcon {
  width: 38px;
  height: 38px;
  font-size: 1.4rem;
}

.compact .statValue {
  font-size: 1.1rem;
}

.compact .actions {
  gap: 12px;
  bottom: max(20px, env(safe-area-inset-bottom));
}

@media (prefers-reduced-motion: reduce) {
  .container,
  .title,
  .summaryScore {
    animation: none;
  }
}

@media (prefers-reduced-motion: no-preference) {
  .container {
    animation: fadeIn 0.5s ease;
  }

  .title {
    background: linear-gradient(90deg, #ff0066, #ff6600, #ff0066);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: pulse 2s infinite;
  }

  .summaryScore {
    background: linear-gradient(90deg, #00d9ff, #7b2fff, #ff00e5);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes pulse {
    0%,
    100% {
      filter: brightness(1);
    }
    50% {
      filter: brightness(1.3);
    }
  }
}

@media (max-width: 600px) {
  .backdrop {
    padding-inline: 12px;
    padding-block-start: max(16px, env(safe-area-inset-top));
    padding-block-end: max(16px, env(safe-area-inset-bottom));
  }

  .container {
    width: min(520px, 100%);
  }
}
